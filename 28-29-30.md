# 실용주의 프로그래머 28, 29, 30

- 02-10 (목)

## 28. 시간적 결합

- (절차적) 직선적 사고는 시간적 결합을 발생시킨다.
- 우리는 동시성을 허용할 필요가 있고 시간이나 순서에 따른 의존성의 결합을 끊는 방법을 생각할 필요가 있다.
- 작업 흐름을 모델화하고 분석해야 한다. 그러니 UML로 작업 흐름을 기록하자.

* TIP 39 : 작업흐름 분석을 통해 동시성을 개선하라

* TIP 40 : 서비스를 사용해서 설계하라

- 작업 큐 같은걸 둬서 뒤에서 서비스들이 계속 일하게끔 만드는게 좋다.

* 동시성을 고려한 설계. 멀티스레드 프로그래밍 주의사항
    * 동시성을 염두에 둔다면 여러 가지 일들을 더 주의 깊게 생각하게 될 수 밖에 없다
    * 전역 변수나 정적 변수들을 동시 접근으로부터 보호해야 한다
    * 호출 순서와 관계없이 일관성 있는 상태 정보를 보일 수 있는지도 확인해봐야 한다

* 더 깔끔한 인터페이스
    * 동시성과 시간 순서에 따른 의존성을 고려하는 것은 더 깔끔한 인테페이스 설계를 이끈다
    * TIP 41 : 언제나 동시성을 고려해 설계하라
* 동시
	* 동시성을 고려해서 계획하고 작업들의 시간적 결합을 끊음으로써, 동시성을 이용하지 않기로 선택한, 독립 애플리케이션을 포함해서 모든 옵션을 다 이용할 수 있게 된다 



- 시스템 설계할 때 머릿속으로 짜는 시나리오는 직선적 사고.. 그래서 UML 다이어그램을 정리하고 컴포넌트를 만들면 병렬적인 요소를 더 찾을 수 있을 것 같다. 활동 다이어그램의 중요성을 깨닫게 되었다.  



- 5-6개월동안 새로 만드는 프로젝트가 있는데 스펙이 넘 커서 문서화에 대한 고민이 있었다. 지금은 거의 다 만들긴했는데 돌아보니까 다이어그램을 좀 더 많이 그렸으면 머릿속도 정리가 되고 쉽게 커뮤니케이션도 할 수 있었겠다는 생각이 든다. 위키에 글로만 적고 코드리뷰만 하고 이러니까 히스토리 정리가 어려웠다. 어떤 사실관계가 있고 어떤 의존관계가 있고,, 하는걸 자주 커뮤니케이션하면서 해도 분명히 빼먹는게 있더라. 그래서 중간에 기능을 다시 변경하고 이런게 많았다. 첨부터 다이어그램으로 정리했다면..하는 생각이 들었다. UML을 다시 공부하면 새 프로젝트를 만들 때 도움이 될 것 같다.



- 타블렛쓰면 커뮤니케이션에 도움이 꽤 된다. 글로 쓰면 양이 많아지고 양이 많아지면 읽기가 힘드니까 그림으로 그리는게 머리에 잘 박힌다.



- 글은 잘못 이해하는 경우도 있어서 글 잘쓰긴 어렵다. 테크니컬 라이팅…



- 테크니컬 라이팅 교육 들어봤는데.. 특별한건 없었다. 글 잘쓰기 정도..



- 인수인계 받을때도 다이어그램이 매우 효과/효율적이다. Package diagram. Msa 핵심 중 하나는 순환구조를 만들지 않는 것. Intellij에 관련기능도 있음



## 29. 단지 뷰일 뿐이야
Divide and conquer
- 모듈은 잘 정의된 단 하나의 책임만 가지면 된다.
- 객체 간의 동기화가 중요하다. 동기화를 하려면 출판 / 구독 구조로 이벤트 전달 방식을 사용하는게 좋다.

* 출판 / 구독 (pub / sub)
    * 모든 이벤트를 하나의 루틴에 몰아넣는 것은 객체 캡슐화에 위배된다
    * 객체가 자기가 필요한 이벤트만 구독해서 받아보고 필요하지 않은 이벤트는 받지 않도록 해야 한다
    * 시퀀스 다이어그램을 사용하라
    * ‘출판자’ 가 보내는 이벤트들 가운데 흥미로운 것이 있다면, 출판자에게 등록하면 된다.
    * ‘출판자’ 는 자기에게 흥미를 보인 ‘구독자’ 들의 목록을 유지한다.
    * 출판자가 흥미로운 이벤트를 발생시키면, 출판자는 차례대로 ‘구독자’ 를 호출해서 이벤트가 일어났다고 알려준다.
    * TIP 42 : 모델에서 뷰를 분리하라
* MVC
* 모델을 표시하는 뷰와 뷰를 관리하는 컨트롤러에서 모델을 분리해 내는 것.
	* 모델 : *대상 객체를 나태내는 추상 데이터 모델.* 모델은 어떤 뷰나 컨트롤러에 대해서도 직접적인 지식을 지니지 않는다
	* 뷰 : *모델을 해석하는 방법.* 뷰는 모델의 변화 그리고 컨트롤러가 보내는 논리적 사건을 구독한다. 모델과 컨트롤러의 sub. 뷰는 꼭 gui가 아니어도 되고, 모델을 해석하는 방식이라 생각하면 된다.
	* 컨트롤러 : *뷰를 제어하고 모델에 새로운 데이터를 제공.* 모델과 뷰 둘 모두에 이벤트를 보낸다 . 모델과 뷰의 pub

## 30. 칠판
* 칠판 시스템을 이용하면, 지식의 소비자와 생산자들이 익명으로 그리고 비동기적으로 데이터를 주고받는 공간이 생긴다.

* TIP 43 : 칠판을 사용해 작업흐름을 조율하라

- 객체간 메시지 전달할 때 프로토콜을 규정한다는 의미가 좋다.
- 재밌는 발상인 것 같다. ^^
